define("ajax",[],function(){function t(){var t=!1;for(var n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}return t}function n(e,n){var r=t(),i=n.method?n.method.toLowerCase():"get",s=null;i==="get"&&n.parameters?e+=(e.indexOf("?")===-1?"?":"&")+n.parameters:s=n.parameters,r.onreadystatechange=function(){if(r.readyState!==4)return;r.status===200?n.onSuccess(r):n.onFailure(r)},r.open(i,e,!0),i==="post"&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(s)}var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return n}),define("dateUtil",[],function(){var e={myParseDate:function(e){return new Date(Date.parse(e.replace(/(\d\d?:\d\d?:\d\d?)(:\d?\d?\d?)?/,"$1")))},formatDate:function(e,t){var n=this.myParseDate(e),r=this.myParseDate(t),i=this.relativeTimeDifference(n.toUTCString(),r.toUTCString());return i!==""&&(i.indexOf("hour")>0&&(i="about "+i),i=" ("+i+")"),n.formatDate("d M y, g:ia")+i},formatDateFromISO:function(e,t){var n=e.split("T"),r=n[0].replace(/-/g,"/"),i=new Date(r+" "+n[1]),s=new Date(t),o=this.relativeTimeDifference(i.toUTCString(),s.toUTCString());return o!==""?o:i.formatDate("d M y, g:ia")},relativeTimeDifference:function(e,t){var n=this.myParseDate(e),r=this.myParseDate(t),i="",s=r.getTime()-n.getTime();if(s<36e5){var o=Math.round(s/6e4);o>1?i=o+" minutes ago":i="1 minute ago"}else if(Math.round(s/36e5)<24){var u=Math.round(s/36e5);u>1?i=u+" hours ago":i=u+" hour ago"}return i},formatToISO:function(e){var t=function(e){return e>9?e:"0"+e},n=new Date(e);return n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())}};return e}),require(["ajax","dateUtil"],function(e,t){window.guardian={r2:{ajax:{Request:e}}}}),define("main",function(){});