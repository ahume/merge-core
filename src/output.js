define("ajax",[],function(){function t(){var t=!1;for(var n=0;n<e.length;n++){try{t=e[n]()}catch(r){continue}break}return t}function n(e,n){var r=t(),i=n.method?n.method.toLowerCase():"get",s=null;i==="get"&&n.parameters?e+=(e.indexOf("?")===-1?"?":"&")+n.parameters:s=n.parameters,r.onreadystatechange=function(){if(r.readyState!==4)return;r.status===200?n.onSuccess(r):n.onFailure(r)},r.open(i,e,!0),i==="post"&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(s)}var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return n}),define("dateUtil",[],function(){var e={myParseDate:function(e){return new Date(Date.parse(e.replace(/(\d\d?:\d\d?:\d\d?)(:\d?\d?\d?)?/,"$1")))},formatDate:function(e,t){var n=this.myParseDate(e),r=this.myParseDate(t),i=this.relativeTimeDifference(n.toUTCString(),r.toUTCString());return i!==""&&(i.indexOf("hour")>0&&(i="about "+i),i=" ("+i+")"),n.formatDate("d M y, g:ia")+i},formatDateFromISO:function(e,t){var n=e.split("T"),r=n[0].replace(/-/g,"/"),i=new Date(r+" "+n[1]),s=new Date(t),o=this.relativeTimeDifference(i.toUTCString(),s.toUTCString());return o!==""?o:i.formatDate("d M y, g:ia")},relativeTimeDifference:function(e,t){var n=this.myParseDate(e),r=this.myParseDate(t),i="",s=r.getTime()-n.getTime();if(s<36e5){var o=Math.round(s/6e4);o>1?i=o+" minutes ago":i="1 minute ago"}else if(Math.round(s/36e5)<24){var u=Math.round(s/36e5);u>1?i=u+" hours ago":i=u+" hour ago"}return i},formatToISO:function(e){var t=function(e){return e>9?e:"0"+e},n=new Date(e);return n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())}};return e}),define("DialogBox",[],function(){function e(){var e=!1}function t(e,t){var r=/^\s*$/;return n(e)?!appliedImageMask:!appliedImageMask&&r.test(t.innerHTML)}function n(e){return e.parentNode!==document.body}function r(e,t){var n,r,i,s;switch(t){case"height":return n=e.offsetHeight,i=getNumberPropertyValue(e,"marginTop")+getNumberPropertyValue(e,"marginBottom"),n+i;case"width":return s=e.offsetWidth,r=getNumberPropertyValue(e,"paddingLeft")+getNumberPropertyValue(e,"paddingRight"),i=getNumberPropertyValue(e,"marginLeft")+getNumberPropertyValue(e,"marginRight"),s+r+i}}return e.prototype.showDialogBox=function(e,n,r,i){guardian.r2.browser.isIE6&&(document.body.parentNode.style.overflow="hidden"),r=r?r:!1,this.positionDialogBox(e,n,r,i),n.style.display="block",guardian.r2.browser.isIE6&&(n.style.background="none",t(e,n)?(applyFullScreenImageMask(n.id),appliedImageMask=!0):(n.firstChild.style.width=document.body.clientWidth+"px",leftOffset=n.offsetParent.offsetLeft,n.firstChild.style.left="-"+leftOffset+"px")),toggleHideOnPopupElements("hidden")},e.prototype.showDialogBox=function(e,n,r,i){guardian.r2.browser.isIE6&&(document.body.parentNode.style.overflow="hidden"),r=r?r:!1,this.positionDialogBox(e,n,r,i),n.style.display="block",guardian.r2.browser.isIE6&&(n.style.background="none",t(e,n)?(applyFullScreenImageMask(n.id),appliedImageMask=!0):(n.firstChild.style.width=document.body.clientWidth+"px",leftOffset=n.offsetParent.offsetLeft,n.firstChild.style.left="-"+leftOffset+"px")),toggleHideOnPopupElements("hidden")},e.prototype.hideDialogBox=function(e){guardian.r2.browser.isIE6&&removeFullScreenImageMask(),toggleHideOnPopupElements("visible")},e.prototype.positionDialogBox=function(e,t,i,s){var o=getCenterPosition(),u=getScrollPosition(),a=0,f=o.x;guardian.r2.browser.isIE6&&(t.style.position="absolute",e.style.position="absolute"),t.style.visibility="hidden",t.style.display="block",e.style.visibility="hidden",e.style.display="block";var l=r(e,"width");guardian.r2.browser.isIE6&&n(e)&&(a=getNumberPropertyValue(document.getElementById("wrapper"),"width"),a<f&&(f=a));var c=f/2,h=l/2,p=Math.round(c-h);t.style.top="0px",t.style.left="0px",e.style.left=p+"px";var d=r(e,"height"),v=o.y,m=u.y,g=5;d<v&&(g=(v-d)/2);if(guardian.r2.browser.isIE6||i)g+=m;e.style.top=g+"px",e.style.visibility="",t.style.visibility="",t.style.display="none",s&&s===!0&&(t.style.zIndex="-1")},e.prototype.createCloseLink=function(e,t){function n(){e.style.display="none",t.style.display="none",this.hideDialogBox(t)}var r=e.id+"-close-link";if(!document.getElementById(r)){var i=document.createElement("a");i.href="#",i.innerHTML="close",i.id=r,i.className="close",addEvent(i,"click",n);var s=document.createElement("p");s.className="toolbox",s.appendChild(i),e.insertBefore(s,e.firstChild)}},e}),define("dom",[],function(){var e=new function(){function t(e){var t=new RegExp("(^| )"+e+"( |$)");return function(e){return t.test(e.className)}}var e=this;this.hasClassName=function(e,n){return t(n)(e)},this.addClassName=function(t,n){e.hasClassName(t,n)||(t.className+=" "+n,t.className=t.className.replace(/^\s|\s$/,""))},this.getElementsByCssSelector=function(e,t){if(isArray(e)){var r=[],i=e.length;for(var s=0;s<i;s++)r=r.concat(n(e[s],t));return r}return n(e,t)};var n=function(t,n){var r=t.split(" "),i=r[0],s=r.slice(1).join(" "),o=i.split("."),u=o[0],a=o[1],f=e.getElementsByClassName(a,u,n);if(s){var l=[],c=f.length,h=e.getElementsByCssSelector;for(var p=0;p<c;p++)l=l.concat(h(s,f[p]));return l}return f};this.getElementsByClassName=function(e,n,i){i=i?i:document,e=e?e:null;if(!!document.evaluate&&e){var s;n?s=".//"+n+"[contains(concat(' ', @class, ' '), ' "+e+" ')]":s=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]";var o=document.evaluate(s,i,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),u=[];for(var a=0,f=o.snapshotLength;a<f;a++)u.push(o.snapshotItem(a));return u}n=n?n:"*";var l=i.getElementsByTagName(n);if(e){var c=[],h=l.length,p=t(e);for(var a=0;a<h;a++)p(l[a])&&c.push(l[a]);return c}return r(l)};var r=function(e){var t=e.length,n=[];while(t--)n[t]=e[t];return n}},t=new function(){var e=this,t=["input","textarea","select"];this.serializeForm=function(n){var r=[];for(var i=0;i<t.length;i++){var s=n.getElementsByTagName(t[i]);for(var o=0;o<s.length;o++){var u=s[o];!u.disabled&&u.name&&r.push(e.serialize(u))}}var a=n.action;return r.join("&")},this.serialize=function(e){var t=e.tagName.toLowerCase(),n=null;switch(t){case"textarea":n=e.value;break;case"input":switch(e.type.toLowerCase()){case"radio":case"checkbox":n=e.checked?e.value:null;break;default:n=e.value}break;case"select":var r=[];for(var i=0;i<e.options.length;i++)if(e.options[i].selected){r.push(e.options[i].value?e.options[i].value:e.options[i].text);if(!e.multiple)break}r.length>0&&(n=r.join(","))}if(n!==null)return encodeURIComponent(e.name)+"="+encodeURIComponent(n)}};return{element:e,form:t}}),define("10util",["dom"],function(e){function i(e,t,n){typeof e=="string"&&(e=document.getElementById(e));if(t==="load")return s.addLoadEvent(n),!0;if(!e)return null;if(e.addEventListener)return e.addEventListener(t,n,!1),!0;if(e.attachEvent){var r=e.attachEvent("on"+t,n);return r}return!1}function f(e){return!t.isIE6&&!t.isIE7?(i(document,"load",e),!0):(a.push(e),!0)}function l(e,t,n){t?(jQ.ajaxSetup({cache:!0}),jQ.getScript(e,n)):(document.write('<script type="text/javascript" src="'+e+'"></scr'+"ipt>"),document.close())}function c(t,n,r){var s=e.element.getElementsByCssSelector(n,t);for(var o=0;o<s.length;o++)i(s[o],"click",r)}function h(e){return new RegExp("( |^)"+e+"( |$)")}function p(e,t){e.className=e.className.replace(h(t)," ").replace(/(^\s*|\s*$)/g,"")}function d(e){var t=0;return screen.availWidth>e&&(t=Math.round((screen.availWidth-e)/2)),t}function v(e){if(guardian.r2.browser.isIE6||guardian.r2.browser.isIE7)var t=405,n=767;else var t=400,n=747;var r=0;return window.open(e,"_blank","resizable=yes,scrollbars=yes,location=no,toolbar=no,status=no,top=0,screenY=0,left="+r+",screenX="+r+",height="+t+",width="+n),!1}function m(e,t,n){return newwindow=window.open(e,"sponsor","height="+n+",width="+t+",scrollbars=yes,location=yes,toolbar=yes,status=yes,resizable=yes"),window.focus&&newwindow.focus(),!1}function g(e){window.opener?window.opener.location=e:location=e}function y(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null}function b(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"}function w(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i}function E(){return y("GU_ME")!=null}function S(){var e,t;return self.pageYOffset?(e=self.pageXOffset,t=self.pageYOffset):document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollLeft,t=document.documentElement.scrollTop):document.body&&(e=document.body.scrollLeft,t=document.body.scrollTop),{x:e,y:t}}function x(){var e,t;return self.innerHeight?(e=self.innerWidth,t=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(e=document.body.clientWidth,t=document.body.clientHeight),{x:e,y:t}}function T(){var e=S(),t=x();return{scrollX:e.x,scrollY:e.y,centerX:t.x,centerY:t.y}}function N(e,t){return e.tagName?e.tagName.toLowerCase()===t?e:N(e.parentNode,t):null}function C(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function k(e){return e&&typeof e=="object"&&typeof e.length=="number"&&typeof e.splice=="function"&&!e.propertyIsEnumerable("length")}function L(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function A(e,t){var n=e.length;for(var r=0;r<n;r++)t(e[r],r)}function O(e){var t=jQ(".hide-on-popup");t.css({visibility:e})}(function(){var e=document.documentElement;typeof e.className=="string"?e.className+=" js-on":e.className="js-on"})();var t={isWebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1},n=jQ.browser.msie;if(n){var r=parseInt(jQ.browser.version);t["isIE"+r]=!0}var s=[];s.addLoadEvent=function(e){s.hasFired?e():s[s.length]=e},s.hasFired=!1,s.fireLoadEvents=function(){for(var e=0;e<s.length;e++)s[e]();s.hasFired=!0};if(t.isWebKit)var o=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(o),s.fireLoadEvents())},100);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",s.fireLoadEvents,!1);else if(n){document.write("<script id='__ie_onload' defer='defer' src='//:'></script>");var u=document.getElementById("__ie_onload");u.onreadystatechange=function(){this.readyState=="complete"&&s.fireLoadEvents()}}var a=[];return a.hasFired=!1,a.fireLoadEvents=function(){for(var e=0;e<a.length;e++)a[e]();a.hasFired=!0},(t.isIE6||t.isIE7)&&window.attachEvent("onload",a.fireLoadEvents),{browser:t,addEvent:i,addSafeLoadEvent:f,writeScript:l,addClickListenersToMatchingElements:c,removeClassName:p,calculateXForCentredPopup:d,openScorePopup:v,popUpNewWindow:m,GUopenParent:g,readCookie:y,createCookie:b,createCookieForCurrentPath:w,isUserLoggedIntoRegPss:E,getScrollPosition:S,getCenterPosition:x,getScrollAndCenterPosition:T,getAncestorOfType:N,arrayIndexOf:C,isArray:k,arrayContains:L,forEachElementOf:A,toggleHideOnPopupElements:O}}),define("tabs",[],function(){function e(){if(jQ("ul.tabs")){var e=jQ("ul.tabs:not(.fake) li a"),t=jQ("ul.tabs:not(.fake) li a.active"),n;for(i=0;i<=t.length-1;i++)n="#"+t[i].href.split("#")[1],jQ(n).removeClass("initially-off");jQ(e).click(function(e){if(jQ(this).is(".inactive")){var t=jQ(this).parents("div").get(0),n=jQ(t).find("ul.tabs:not(.fake) li a.active"),r="#"+this.href.split("#")[1],i=jQ(n).attr("href"),s="#"+i.split("#")[1];jQ(n).attr("class","inactive"),jQ(this).attr("class","active"),jQ(r).show(),jQ(s).hide()}e.preventDefault()})}}return{initialise:e}}),define("autoplay-settings",[],function(){function r(){jQ.cookie(t)=="false"?(jQ(".off").show(),jQ(".on").hide()):(jQ(".on").show(),jQ(".off").hide())}function i(){jQ.cookie(e,!0),jQ.cookie(e)?(jQ.cookie(e,null),jQ(".cookied").show(),jQ(".not-cookied").hide()):(jQ(".not-cookied").show(),jQ(".cookied").hide())}function s(){jQ(".autoplay-on").click(function(){return jQ.cookie(t,"true",n),r(),jQ("a.close-toolbox-settings").focus(),!1}),jQ(".autoplay-off").click(function(){return jQ.cookie(t,"false",n),r(),jQ("a.close-toolbox-settings").focus(),!1}),i(),r()}var e="GU_TEST_COOKIE",t="GU_VIDEO_SETTINGS";date=new Date,date.setTime(date.getTime()+2592e6);var n={path:"/",expires:date};return{initialise:s}}),define("caption",[],function(){function e(){if(jQ("li.pixie")){var e=jQ("li.pixie");jQ(e).mouseenter(function(){jQ(this).find("div.trail-text").stop(!0,!0).slideDown("fast")}),jQ(e).mouseleave(function(){jQ(this).find("div.trail-text").stop(!0,!0).slideUp("fast")})}}return{initialise:e}}),define("componentTracking",[],function(){function e(){jQ("body").delegate(".trackable-component a","click",function(e){var t=jQ(this),n=t.parents(".trackable-component"),r=n.data("component");if(r){var i=t.closest("[data-link-name]").data("link-name");i=i?r+": "+i:r,s.linkTrackVars="eVar7,eVar37,events",s.linkTrackEvents="event37",s.eVar37=r,s.eVar7=s.pageName,s.events="event37";var o=t.attr("href"),u=!o||o.indexOf("#")!==0&&o.indexOf("javascript")!==0?this:!0;s.tl(u,"o",i)}})}return{initialise:e}}),define("getUrl",[],function(){function e(){var e=document.getElementById("go-to");if(!e)return;for(var t=0;t<e.length;t++)e.onchange=function(){window.location=this.value}}return{initialise:e}}),define("more",[],function(){function e(){jQ("a.shower").click(function(){return jQ("body.clippings").length?theParent=".show-more":theParent="ul",jQ(this).hasClass("football-leagues")?(list=jQ(this).attr("href"),jQ(this).toggleClass("open"),jQ("ul"+list).toggle()):jQ(this).toggleClass("open").parents(theParent).filter(":first").next().toggle(),!1})}return{initialise:e}}),define("search",[],function(){function e(e,t,n){var r=document.getElementById("web-search-field"),i=document.getElementById("searchbeta");return document.getElementById("search-web")&&(document.getElementById("search-web").selected||document.getElementById("search-web").checked)?i.action=e:i.action==e&&(i.action=t),document.getElementById("search-contributions")&&(document.getElementById("search-contributions").selected||document.getElementById("search-contributions").checked)?i.action=n:i.action==n&&(i.action=t),!0}return e}),define("main",["ajax","dateUtil","DialogBox","10util","tabs","autoplay-settings","caption","componentTracking","getUrl","more","search"],function(e,t,n,r,i,s,o,u,a,f,l){console.log("now running main"),jQ(document).ready(function(){i.initialise(),s.initialise(),o.initialise(),u.initialise(),a.initialise(),f.initialise()}),window.guardian={r2:{ajax:{Request:e},DateUtil:t,DialogBox:n,browser:r.browser}},window.addEvent=r.addEvent,window.addSafeLoadEvent=r.addSafeLoadEvent,window.writeScript=r.writeScript,window.addClickListenersToMatchingElements=r.addClickListenersToMatchingElements,window.removeClassName=r.removeClassName,window.calculateXForCentredPopup=r.calculateXForCentredPopup,window.openScorePopup=r.openScorePopup,window.popUpNewWindow=r.popUpNewWindow,window.GUopenParent=r.GUopenParent,window.readCookie=r.readCookie,window.createCookie=r.createCookie,window.createCookieForCurrentPath=r.createCookieForCurrentPath,window.isUserLoggedIntoRegPss=r.isUserLoggedIntoRegPss,window.getScrollPosition=r.getScrollPosition,window.getCenterPosition=r.getCenterPosition,window.getScrollAndCenterPosition=r.getScrollAndCenterPosition,window.getAncestorOfType=r.getAncestorOfType,window.arrayIndexOf=r.arrayIndexOf,window.isArray=r.isArray,window.arrayContains=r.arrayContains,window.forEachElementOf=r.forEachElementOf,window.toggleHideOnPopupElements=r.toggleHideOnPopupElement,window.searchWeb=l});